import { CompanyFinancialData } from './financialData';
import { AnalysisSection } from '../types';

// Mock TSLA financial data for testing
export const mockTeslaData: CompanyFinancialData = {
  profile: {
    symbol: "TSLA",
    companyName: "Tesla, Inc.",
    currency: "USD",
    cik: "1318605",
    isin: "US88160R1014",
    cusip: "88160R101",
    exchange: "NASDAQ Global Select",
    exchangeShortName: "NASDAQ",
    industry: "Auto Manufacturers",
    website: "https://www.tesla.com",
    description: "Tesla, Inc. designs, develops, manufactures, leases, and sells electric vehicles, and energy generation and storage systems in the United States, China, and internationally.",
    ceo: "Elon Musk",
    sector: "Consumer Cyclical",
    country: "US",
    fullTimeEmployees: "140,473",
    phone: "512-516-8177",
    address: "1 Tesla Road",
    city: "Austin",
    state: "TX",
    zip: "78725",
    dcfDiff: 45.23,
    dcf: 298.45,
    image: "https://financialmodelingprep.com/image-stock/TSLA.png",
    ipoDate: "2010-06-29",
    defaultImage: false,
    isEtf: false,
    isActivelyTrading: true,
    isAdr: false,
    isFund: false
  },
  quote: {
    symbol: "TSLA",
    name: "Tesla, Inc.",
    price: 248.42,
    changesPercentage: 2.34,
    change: 5.68,
    dayLow: 245.12,
    dayHigh: 251.89,
    yearHigh: 414.50,
    yearLow: 138.80,
    marketCap: 789456123000,
    priceAvg50: 235.67,
    priceAvg200: 198.45,
    exchange: "NASDAQ",
    volume: 45678912,
    avgVolume: 52341876,
    open: 246.78,
    previousClose: 242.74,
    eps: 3.62,
    pe: 68.62,
    earningsAnnouncement: "2024-01-24T21:00:00.000+0000",
    sharesOutstanding: 3178920000,
    timestamp: 1704067200
  },
  keyMetrics: [{
    symbol: "TSLA",
    date: "2023-12-31",
    calendarYear: "2023",
    period: "FY",
    revenuePerShare: 30.12,
    netIncomePerShare: 3.62,
    operatingCashFlowPerShare: 9.45,
    freeCashFlowPerShare: 2.35,
    cashPerShare: 9.87,
    bookValuePerShare: 22.45,
    tangibleBookValuePerShare: 22.45,
    shareholdersEquityPerShare: 22.45,
    interestDebtPerShare: 0.98,
    marketCap: 789456123000,
    enterpriseValue: 785234567000,
    peRatio: 68.62,
    priceToSalesRatio: 8.23,
    pocfratio: 26.31,
    pfcfRatio: 105.71,
    pbRatio: 11.07,
    ptbRatio: 11.07,
    evToSales: 8.18,
    enterpriseValueOverEBITDA: 45.67,
    evToOperatingCashFlow: 27.89,
    evToFreeCashFlow: 111.23,
    earningsYield: 0.0146,
    freeCashFlowYield: 0.0095,
    debtToEquity: 0.044,
    debtToAssets: 0.023,
    netDebtToEBITDA: -2.34,
    currentRatio: 1.73,
    interestCoverage: 45.67,
    incomeQuality: 0.38,
    dividendYield: 0,
    payoutRatio: 0,
    salesGeneralAndAdministrativeToRevenue: 0.034,
    researchAndDdevelopementToRevenue: 0.032,
    intangiblesToTotalAssets: 0.012,
    capexToOperatingCashFlow: 0.751,
    capexToRevenue: 0.079,
    capexToDepreciation: 2.34,
    stockBasedCompensationToRevenue: 0.023,
    grahamNumber: 89.45,
    roic: 0.187,
    returnOnTangibleAssets: 0.162,
    grahamNetNet: 0,
    workingCapital: 26789123000,
    tangibleAssetValue: 71234567000,
    netCurrentAssetValue: 26789123000,
    investedCapital: 89456123000,
    averageReceivables: 2345678000,
    averagePayables: 8765432000,
    averageInventory: 13456789000,
    daysSalesOutstanding: 8.9,
    daysPayablesOutstanding: 35.6,
    daysOfInventoryOnHand: 56.7,
    receivablesTurnover: 41.01,
    payablesTurnover: 10.25,
    inventoryTurnover: 6.44,
    roe: 0.161,
    capexPerShare: 2.38
  }],
  incomeStatements: [{
    date: "2023-12-31",
    symbol: "TSLA",
    reportedCurrency: "USD",
    cik: "1318605",
    fillingDate: "2024-01-29",
    acceptedDate: "2024-01-29 18:30:00",
    calendarYear: "2023",
    period: "FY",
    revenue: 96773000000,
    costOfRevenue: 79113000000,
    grossProfit: 17660000000,
    grossProfitRatio: 0.1825,
    researchAndDevelopmentExpenses: 3075000000,
    generalAndAdministrativeExpenses: 3317000000,
    sellingAndMarketingExpenses: 0,
    sellingGeneralAndAdministrativeExpenses: 3317000000,
    otherExpenses: 0,
    operatingExpenses: 6392000000,
    costAndExpenses: 85505000000,
    interestIncome: 1066000000,
    interestExpense: 156000000,
    depreciationAndAmortization: 7475000000,
    ebitda: 18634000000,
    ebitdaratio: 0.1926,
    operatingIncome: 8891000000,
    operatingIncomeRatio: 0.0919,
    totalOtherIncomeExpensesNet: 910000000,
    incomeBeforeTax: 9801000000,
    incomeBeforeTaxRatio: 0.1013,
    incomeTaxExpense: 1632000000,
    netIncome: 8169000000,
    netIncomeRatio: 0.0844,
    eps: 2.57,
    epsdiluted: 2.57,
    weightedAverageShsOut: 3178920000,
    weightedAverageShsOutDil: 3178920000,
    link: "https://www.sec.gov/Archives/edgar/data/1318605/000095017024006118/0000950170-24-006118-index.htm",
    finalLink: "https://www.sec.gov/Archives/edgar/data/1318605/000095017024006118/tsla-20231231.htm"
  }],
  cashFlowStatements: [{
    date: "2023-12-31",
    symbol: "TSLA",
    reportedCurrency: "USD",
    cik: "1318605",
    fillingDate: "2024-01-29",
    acceptedDate: "2024-01-29 18:30:00",
    calendarYear: "2023",
    period: "FY",
    netIncome: 8169000000,
    depreciationAndAmortization: 7475000000,
    deferredIncomeTax: -1132000000,
    stockBasedCompensation: 2234000000,
    changeInWorkingCapital: -2389000000,
    accountsReceivables: -456000000,
    inventory: -3456000000,
    accountsPayables: 1523000000,
    otherWorkingCapital: 0,
    otherNonCashItems: 1234000000,
    netCashProvidedByOperatingActivities: 15591000000,
    investmentsInPropertyPlantAndEquipment: -8891000000,
    acquisitionsNet: -234000000,
    purchasesOfInvestments: -12345000000,
    salesMaturitiesOfInvestments: 11234000000,
    otherInvestingActivites: -567000000,
    netCashUsedForInvestingActivites: -10803000000,
    debtRepayment: -1234000000,
    commonStockIssued: 567000000,
    commonStockRepurchased: -1891000000,
    dividendsPaid: 0,
    otherFinancingActivites: -234000000,
    netCashUsedProvidedByFinancingActivities: -2792000000,
    effectOfForexChangesOnCash: 123000000,
    netChangeInCash: 2119000000,
    cashAtEndOfPeriod: 31356000000,
    cashAtBeginningOfPeriod: 29237000000,
    operatingCashFlow: 15591000000,
    capitalExpenditure: -8891000000,
    freeCashFlow: 6700000000,
    link: "https://www.sec.gov/Archives/edgar/data/1318605/000095017024006118/0000950170-24-006118-index.htm",
    finalLink: "https://www.sec.gov/Archives/edgar/data/1318605/000095017024006118/tsla-20231231.htm"
  }]
};

// Mock analysis for TSLA (without ESG section)
export const mockTeslaAnalysis: AnalysisSection = {
  snapshot: {
    marketCap: "$789.5B",
    sharePrice: "$248.42",
    targetPrice: "$285.00",
    impliedUpside: "+14.7%",
    rating: "Buy",
    confidence: "High"
  },
  keyMetrics: {
    headers: ["Metric", "TTM", "3-yr CAGR", "Sector Median", "Î” vs Median"],
    rows: [
      ["Revenue growth", "19.3%", "47.2%", "8.5%", "+38.7pp"],
      ["Gross margin", "18.3%", "20.1%", "15.2%", "+3.1pp"],
      ["FCF margin", "6.9%", "8.4%", "4.2%", "+2.7pp"],
      ["P/E (NTM)", "68.6x", "N/A", "12.4x", "+56.2x"],
      ["EV/EBITDA (NTM)", "45.7x", "N/A", "8.9x", "+36.8x"]
    ]
  },
  fundamentalDrivers: {
    growthEngines: "Vehicle deliveries growing 35%+ annually driven by Model Y ramp, Cybertruck launch, and global expansion. Energy storage deployments accelerating with Megapack demand. FSD software monetization potential represents significant upside.",
    costStructure: "Manufacturing efficiency improving through vertical integration and 4680 battery cell production. Gigafactory scale driving unit cost reductions. R&D focused on autonomy and next-gen platform development.",
    capitalAllocation: "Heavy capex investment in manufacturing capacity and charging infrastructure. No dividends, focusing on growth. Strategic use of debt financing for expansion while maintaining strong balance sheet."
  },
  thesisAssessment: {
    supportingPoints: [
      "Market leadership in premium EV segment with strong brand moat",
      "Vertical integration strategy driving margin expansion potential",
      "FSD technology development creating optionality for robotaxi business"
    ],
    risks: [
      "Increasing competition from traditional OEMs and Chinese manufacturers",
      "Regulatory risks around FSD deployment and safety concerns"
    ],
    netVerdict: "Bullish - Tesla's technological leadership and manufacturing scale provide sustainable competitive advantages despite valuation premium."
  },
  macroSector: {
    sectorCycle: "EV adoption in early growth phase with government incentives supporting demand. Traditional auto industry facing disruption with massive capex requirements for electrification.",
    macroSensitivities: "Sensitive to interest rates (financing costs), commodity prices (lithium, nickel), and China relations (Shanghai factory). Benefits from oil price volatility driving EV adoption.",
    competitiveMoat: "Strong moat from Supercharger network, vertical integration, software capabilities, and manufacturing expertise. Brand strength in premium segment difficult to replicate."
  },
  catalystMap: {
    headers: ["Date/Window", "Event", "Expected Impact", "ST / LT"],
    rows: [
      ["Q1 2024", "Cybertruck production ramp", "Positive delivery growth", "ST"],
      ["H1 2024", "FSD v12 wide release", "Software revenue recognition", "LT"],
      ["2024", "Model 2 platform reveal", "TAM expansion signal", "LT"],
      ["2025", "Robotaxi service launch", "New revenue stream", "LT"]
    ]
  },
  scenarioAnalysis: {
    headers: ["Case", "Assumptions", "Valuation", "Probability", "Price Target"],
    rows: [
      ["Bear", "Slow EV adoption, margin pressure", "35x P/E", "20%", "$180"],
      ["Base", "Steady growth, margin stability", "45x P/E", "50%", "$285"],
      ["Bull", "FSD breakthrough, robotaxi success", "60x P/E", "30%", "$420"],
      ["Risk-reward", "Probability-weighted upside", "", "", "+14.7%"]
    ]
  },
  investmentSummary: {
    bullets: [
      "Market-leading EV manufacturer with strong technological moat",
      "Vertical integration strategy driving operational leverage",
      "FSD development creating significant optionality value",
      "Strong balance sheet supporting aggressive growth investments",
      "Premium valuation justified by growth trajectory and market position"
    ],
    finalCall: "Buy, 12-month timeframe, High confidence - Tesla's execution track record and technological leadership support premium valuation despite near-term volatility risks."
  }
};